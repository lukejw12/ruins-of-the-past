data modify storage rotp:temp dye_item set from entity @a[distance=..10,tag=active_pot_target,limit=1] SelectedItem

execute if data storage rotp:temp dye_item{id:"minecraft:white_dye"} run scoreboard players set #dye_color temp 14665917
execute if data storage rotp:temp dye_item{id:"minecraft:white_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 14665917

execute if data storage rotp:temp dye_item{id:"minecraft:orange_dye"} run scoreboard players set #dye_color temp 10311971
execute if data storage rotp:temp dye_item{id:"minecraft:orange_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 10311971

execute if data storage rotp:temp dye_item{id:"minecraft:magenta_dye"} run scoreboard players set #dye_color temp 9721452
execute if data storage rotp:temp dye_item{id:"minecraft:magenta_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 9721452

execute if data storage rotp:temp dye_item{id:"minecraft:light_blue_dye"} run scoreboard players set #dye_color temp 7761804
execute if data storage rotp:temp dye_item{id:"minecraft:light_blue_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 7761804

execute if data storage rotp:temp dye_item{id:"minecraft:yellow_dye"} run scoreboard players set #dye_color temp 12092449
execute if data storage rotp:temp dye_item{id:"minecraft:yellow_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 12092449

execute if data storage rotp:temp dye_item{id:"minecraft:lime_dye"} run scoreboard players set #dye_color temp 7568693
execute if data storage rotp:temp dye_item{id:"minecraft:lime_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 7568693

execute if data storage rotp:temp dye_item{id:"minecraft:pink_dye"} run scoreboard players set #dye_color temp 10899793
execute if data storage rotp:temp dye_item{id:"minecraft:pink_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 10899793

execute if data storage rotp:temp dye_item{id:"minecraft:gray_dye"} run scoreboard players set #dye_color temp 4863790
execute if data storage rotp:temp dye_item{id:"minecraft:gray_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 4863790

execute if data storage rotp:temp dye_item{id:"minecraft:light_gray_dye"} run scoreboard players set #dye_color temp 8874850
execute if data storage rotp:temp dye_item{id:"minecraft:light_gray_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 8874850

execute if data storage rotp:temp dye_item{id:"minecraft:cyan_dye"} run scoreboard players set #dye_color temp 6776156
execute if data storage rotp:temp dye_item{id:"minecraft:cyan_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 6776156

execute if data storage rotp:temp dye_item{id:"minecraft:purple_dye"} run scoreboard players set #dye_color temp 8079961
execute if data storage rotp:temp dye_item{id:"minecraft:purple_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 8079961

execute if data storage rotp:temp dye_item{id:"minecraft:blue_dye"} run scoreboard players set #dye_color temp 6183280
execute if data storage rotp:temp dye_item{id:"minecraft:blue_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 6183280

execute if data storage rotp:temp dye_item{id:"minecraft:brown_dye"} run scoreboard players set #dye_color temp 8406836
execute if data storage rotp:temp dye_item{id:"minecraft:brown_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 8406836

execute if data storage rotp:temp dye_item{id:"minecraft:green_dye"} run scoreboard players set #dye_color temp 6644540
execute if data storage rotp:temp dye_item{id:"minecraft:green_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 6644540

execute if data storage rotp:temp dye_item{id:"minecraft:red_dye"} run scoreboard players set #dye_color temp 9255469 
execute if data storage rotp:temp dye_item{id:"minecraft:red_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 9255469 

execute if data storage rotp:temp dye_item{id:"minecraft:black_dye"} run scoreboard players set #dye_color temp 3350550 
execute if data storage rotp:temp dye_item{id:"minecraft:black_dye"} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 3350550 

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_white_dye:true}}} run scoreboard players set #dye_color temp 16777215
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_white_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 16777215

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_orange_dye:true}}} run scoreboard players set #dye_color temp 16744448
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_orange_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 16744448

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_magenta_dye:true}}} run scoreboard players set #dye_color temp 16711935
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_magenta_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 16711935

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_light_blue_dye:true}}} run scoreboard players set #dye_color temp 52479
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_light_blue_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 52479

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_yellow_dye:true}}} run scoreboard players set #dye_color temp 16776960
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_yellow_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 16776960

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_lime_dye:true}}} run scoreboard players set #dye_color temp 8388352
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_lime_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 8388352

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_pink_dye:true}}} run scoreboard players set #dye_color temp 16761035
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_pink_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 16761035

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_gray_dye:true}}} run scoreboard players set #dye_color temp 8421504
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_gray_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 8421504

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_light_gray_dye:true}}} run scoreboard players set #dye_color temp 12632256
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_light_gray_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 12632256

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_cyan_dye:true}}} run scoreboard players set #dye_color temp 35723
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_cyan_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 35723

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_purple_dye:true}}} run scoreboard players set #dye_color temp 10494192 
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_purple_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 10494192 

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_blue_dye:true}}} run scoreboard players set #dye_color temp 26316
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_blue_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 26316

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_brown_dye:true}}} run scoreboard players set #dye_color temp 9127187
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_brown_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 9127187

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_green_dye:true}}} run scoreboard players set #dye_color temp 32768
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_green_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 32768

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_red_dye:true}}} run scoreboard players set #dye_color temp 16711680
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_red_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 16711680

execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_black_dye:true}}} run scoreboard players set #dye_color temp 4210752
execute if data storage rotp:temp dye_item{components:{"minecraft:custom_data":{vibrant_black_dye:true}}} run tag @a[distance=..10,tag=active_pot_target,limit=1] add 4210752
execute store result storage rotp:temp dye_color int 1 run scoreboard players get #dye_color temp
advancement grant @a[distance=..10,tag=active_pot_target,limit=1] only rotp:core/pot/tinting_with_style
function rotp:core/block/placed/pot/update_pot_displays

execute store result score #temp_count temp run data get storage rotp:temp dye_item.count
scoreboard players remove #temp_count temp 1
execute if score #temp_count temp matches 0 run item replace entity @p[distance=..10] weapon.mainhand with air
execute if score #temp_count temp matches 1.. run item modify entity @p[distance=..10] weapon.mainhand {function:set_count,count:-1,add:true}

particle happy_villager ~ ~0.5 ~ 0.3 0.3 0.3 0.1 5

execute store result storage rotp:temp current_pot_id int 1 run scoreboard players get @s pot_id
data modify entity @s data.stored_item.components."minecraft:custom_data".dyed set value 1b
execute store result entity @s data.stored_item.components."minecraft:dyed_color" int 1 run scoreboard players get #dye_color temp

scoreboard players reset #temp_count temp
